
CMAKE_MINIMUM_REQUIRED (VERSION 3.4)
PROJECT (AlouFEM)

FUNCTION(COLLECT_SRC_FROM_DIRS DIRS)
  MESSAGE("DIRS ==== ${DIRS}")
  MESSAGE("DIRS ==== ${${DIRS}}")
  FOREACH(dir ${${DIRS}})
    MESSAGE("dir ==== ${dir}")
    FILE(GLOB source_file_in_dir ${dir}/[^.]*.cpp ${dir}/[^.]*.hxx)
	LIST(APPEND SOURCE_FILE_LIST ${source_file_in_dir})
  ENDFOREACH()
  MESSAGE("SOURCE_FILE_LIST ==== ${SOURCE_FILE_LIST}")
  SET(SOURCE_FILES ${SOURCE_FILE_LIST} PARENT_SCOPE)
ENDFUNCTION ()

ADD_SUBDIRECTORY(AlouFEM)

MESSAGE("CMAKE_SOURCE_DIR ==== ${CMAKE_SOURCE_DIR}")
MESSAGE("CMAKE_CURRENT_SOURCE_DIR ==== ${CMAKE_CURRENT_SOURCE_DIR}")
#SET()
#MESSAGE("CMAKE_SOURCE_DIR ==== ${CMAKE_SOURCE_DIR}")
#COLLECT_SRC_FROM_DIRS(CMAKE_SOURCE_DIR)
MESSAGE("SOURCE_FILES ==== ${SOURCE_FILES}")






